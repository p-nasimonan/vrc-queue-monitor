{{- if and (not .Values.secrets.existingSecret) (not .Values.secrets.sealedSecret.enabled) }}
{{/*
  Plain Secret (開発・テスト用)
  本番環境では sealedSecret.enabled=true または existingSecret を使用
*/}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Release.Name }}-secrets
  labels:
    {{- include "vrc-queue-monitor.labels" . | nindent 4 }}
type: Opaque
stringData:
  DB_PASSWORD: {{ .Values.secrets.dbPassword | quote }}
  VRC_USERNAME: {{ .Values.secrets.vrcUsername | quote }}
  VRC_PASSWORD: {{ .Values.secrets.vrcPassword | quote }}
  VRC_TOTP_SECRET: {{ .Values.secrets.vrcTotpSecret | quote }}
  VRC_GROUP_ID: {{ .Values.secrets.vrcGroupId | quote }}
{{- end }}
